parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"4XSc":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function i(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t}function n(e,s){return!s||"object"!==t(s)&&"function"!=typeof s?a(e):s}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function s(t,i,r,h,c){var y;return e(this,s),(y=n(this,o(s).call(this,t,i,r,h))).scene=t,y.scene.add.existing(a(y)),y.scene.physics.world.enableBody(a(y),0),y.setData("type",c),y.setData("isDead",!1),y}return r(s,Phaser.GameObjects.Sprite),i(s,[{key:"explode",value:function(t){this.getData("isDead")||(this.setTexture("sprExplosion"),this.play("sprExplosion"),this.scene.sfx.explosions[Phaser.Math.Between(0,this.scene.sfx.explosions.length-1)].play(),void 0!==this.shootTimer&&this.shootTimer&&this.shootTimer.remove(!1),this.setAngle(0),this.body.setVelocity(0,0),this.on("animationcomplete",function(){t?this.destroy():this.setVisible(!1)},this),this.setData("isDead",!0))}}]),s}(),y=function(t){function s(t,i,a,r){var h;return e(this,s),(h=n(this,o(s).call(this,t,i,a,r,"Player"))).setData("speed",200),h.setData("isShooting",!1),h.setData("timerShootDelay",10),h.setData("timerShootTick",h.getData("timerShootDelay")-1),h}return r(s,c),i(s,[{key:"moveUp",value:function(){this.body.velocity.y=-this.getData("speed")}},{key:"moveDown",value:function(){this.body.velocity.y=this.getData("speed")}},{key:"moveLeft",value:function(){this.body.velocity.x=-this.getData("speed")}},{key:"moveRight",value:function(){this.body.velocity.x=this.getData("speed")}},{key:"onDestroy",value:function(){this.scene.time.addEvent({delay:1e3,callback:function(){this.scene.scene.start("SceneGameOver")},callbackScope:this,loop:!1})}},{key:"update",value:function(){if(this.body.setVelocity(0,0),this.x=Phaser.Math.Clamp(this.x,0,this.scene.game.config.width),this.y=Phaser.Math.Clamp(this.y,0,this.scene.game.config.height),this.getData("isShooting"))if(this.getData("timerShootTick")<this.getData("timerShootDelay"))this.setData("timerShootTick",this.getData("timerShootTick")+1);else{var t=new l(this.scene,this.x,this.y);this.scene.playerLasers.add(t),this.scene.sfx.laser.play(),this.setData("timerShootTick",0)}}}]),s}(),l=function(t){function s(t,i,a){var r;return e(this,s),(r=n(this,o(s).call(this,t,i,a,"sprLaserPlayer"))).body.velocity.y=-200,r}return r(s,c),s}(),u=function(t){function s(t,i,a){var r;return e(this,s),(r=n(this,o(s).call(this,t,i,a,"sprLaserEnemy0"))).body.velocity.y=200,r}return r(s,c),s}(),p=function(t){function s(t,i,a){var r;return e(this,s),(r=n(this,o(s).call(this,t,i,a,"sprEnemy1","ChaserShip"))).body.velocity.y=Phaser.Math.Between(50,100),r.states={MOVE_DOWN:"MOVE_DOWN",CHASE:"CHASE"},r.state=r.states.MOVE_DOWN,r}return r(s,c),i(s,[{key:"update",value:function(){if(!this.getData("isDead")&&this.scene.player&&(Phaser.Math.Distance.Between(this.x,this.y,this.scene.player.x,this.scene.player.y)<320&&(this.state=this.states.CHASE),this.state==this.states.CHASE)){var t=this.scene.player.x-this.x,e=this.scene.player.y-this.y,s=Math.atan2(e,t);this.body.setVelocity(100*Math.cos(s),100*Math.sin(s)),this.x<this.scene.player.x?this.angle-=5:this.angle+=5}}}]),s}(),f=function(t){function s(t,i,r){var h;return e(this,s),(h=n(this,o(s).call(this,t,i,r,"sprEnemy0","GunShip"))).play("sprEnemy0"),h.body.velocity.y=Phaser.Math.Between(50,100),h.shootTimer=h.scene.time.addEvent({delay:1e3,callback:function(){var t=new u(this.scene,this.x,this.y);t.setScale(this.scaleX),this.scene.enemyLasers.add(t)},callbackScope:a(h),loop:!0}),h}return r(s,c),i(s,[{key:"onDestroy",value:function(){void 0!==this.shootTimer&&this.shootTimer&&this.shootTimer.remove(!1)}}]),s}(),d=function(t){function s(t,i,a){var r;return e(this,s),(r=n(this,o(s).call(this,t,i,a,"sprEnemy2","CarrierShip"))).play("sprEnemy2"),r.body.velocity.y=Phaser.Math.Between(50,100),r}return r(s,c),s}(),v=function(){function t(s,i,n){e(this,t),this.scene=s,this.key=i,this.velocityY=n,this.layers=this.scene.add.group(),this.createLayers()}return i(t,[{key:"createLayers",value:function(){for(var t=0;t<2;t++){var e=this.scene.add.sprite(0,0,this.key);e.y=e.displayHeight*t;var s=Phaser.Math.Between(0,10)>=5?-1:1,i=Phaser.Math.Between(0,10)>=5?-1:1;e.setScale(2*s,2*i),e.setDepth(-5-(t-1)),this.scene.physics.world.enableBody(e,0),e.body.velocity.y=this.velocityY,this.layers.add(e)}}},{key:"update",value:function(){if(this.layers.getChildren()[0].y>0)for(var t=0;t<this.layers.getChildren().length;t++){var e=this.layers.getChildren()[t];e.y=-e.displayHeight+e.displayHeight*t}}}]),t}();
},{}]},{},["4XSc"], null)
//# sourceMappingURL=/js/Entities.js.map